# Mosquitto broker configuration for gateway-analysis test capture
#
# This broker replaces the gateway's embedded broker during analysis runs,
# allowing capture of all MQTT traffic for debugging and correlation.

# Network settings
listener 1883
protocol mqtt

# Authentication - require username/password
allow_anonymous false
password_file /etc/mosquitto/passwd

# Logging
log_dest file /var/log/mosquitto/mosquitto.log
log_type all

# Persistence (optional - disable for test runs)
persistence false

# Message size (Xovis events can be large)
message_size_limit 0
